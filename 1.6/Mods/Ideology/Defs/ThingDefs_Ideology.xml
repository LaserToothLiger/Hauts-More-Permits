<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  
  <!--archive books-->
  <ThingDef ParentName="BookBase">
    <defName>HVMP_ObscureScripture</defName>
    <label>obscure scripture </label>
    <description>A book which describes an ideoligion from a distant world. Reading it wears down the certainty of non-believers and can eventually convert them to its ideoligion, but also risks upsetting them. Believers gain certainty instead from reading the book.</description>
    <tradeability>None</tradeability>
    <graphicData>
      <texPath>Things/Item/Book/Schematic/Schematic</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.8</drawSize>
    </graphicData>
    <uiIconPath>Things/Item/Book/Schematic/Schematic</uiIconPath>
    <statBases>
      <MarketValue>150</MarketValue>
    </statBases>
    <comps>
      <li Class="CompProperties_Book">
        <nameMaker>HVMP_Namer_ObscureTract</nameMaker>
        <descriptionMaker>HVMP_ObscureTractDesc</descriptionMaker>
        <ageYearsRange>100~500</ageYearsRange>
        <openGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Open</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>0.7</drawSize>
        </openGraphic>
        <verticalGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Vertical</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <addTopAltitudeBias>true</addTopAltitudeBias>
        </verticalGraphic>
        <doers>
          <li Class="HautsF_Ideology.BookOutcomeProperties_PromoteIdeo">
            <newIdeoChance>1</newIdeoChance>
			<chanceForPlayerFaction>0.5</chanceForPlayerFaction>
			<conversionPerHour>
			  <points>
				<li>0, 0.06</li>
				<li>1, 0.08</li>
				<li>2, 0.1</li>
				<li>3, 0.12</li>
				<li>4, 0.14</li>
				<li>5, 0.17</li>
				<li>6, 0.2</li>
			  </points>
			</conversionPerHour>
			<upsetOnFailedConversionThought>Hauts_FailedConversionByBook</upsetOnFailedConversionThought>
			<upsetLikelihood>
			  <points>
				<li>0, 0.025</li>
				<li>1, 0.0225</li>
				<li>2, 0.02</li>
				<li>3, 0.0175</li>
				<li>4, 0.015</li>
				<li>5, 0.0125</li>
				<li>6, 0.01</li>
			  </points>
			</upsetLikelihood>
			<reassurePerHour>
			  <points>
				<li>0, 0.06</li>
				<li>1, 0.08</li>
				<li>2, 0.1</li>
				<li>3, 0.12</li>
				<li>4, 0.14</li>
				<li>5, 0.17</li>
				<li>6, 0.2</li>
			  </points>
			</reassurePerHour>
          </li>
        </doers>
      </li>
    </comps>
  </ThingDef>
  <ThingDef ParentName="BookBase">
    <defName>HVMP_EsotericTract</defName>
    <label>ideoligious esoterica</label>
    <description>An ideoligious book. It has a very weak persuasive effect on non-believers. Believers, however, gradually gain a buff to all ideoligious stats while reading it.</description>
    <tradeability>None</tradeability>
    <graphicData>
      <texPath>Things/Item/Book/Schematic/Schematic</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.8</drawSize>
    </graphicData>
    <uiIconPath>Things/Item/Book/Schematic/Schematic</uiIconPath>
    <statBases>
      <MarketValue>270</MarketValue>
    </statBases>
    <comps>
      <li Class="CompProperties_Book">
        <nameMaker>HVMP_Namer_ObscureTract</nameMaker>
        <descriptionMaker>HVMP_ObscureTractDesc</descriptionMaker>
        <ageYearsRange>100~500</ageYearsRange>
        <openGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Open</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>0.7</drawSize>
        </openGraphic>
        <verticalGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Vertical</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <addTopAltitudeBias>true</addTopAltitudeBias>
        </verticalGraphic>
        <doers>
          <li Class="HautsPermits_Ideology.BookOutcomeProperties_HediffGrantingIdeoBook">
            <newIdeoChance>0</newIdeoChance>
			<conversionPerHour>
			  <points>
				<li>0, 0.01</li>
				<li>1, 0.02</li>
				<li>2, 0.03</li>
				<li>3, 0.04</li>
				<li>4, 0.05</li>
				<li>5, 0.06</li>
				<li>6, 0.07</li>
			  </points>
			</conversionPerHour>
			<reassurePerHour>
			  <points>
				<li>0, 0.06</li>
				<li>1, 0.08</li>
				<li>2, 0.1</li>
				<li>3, 0.12</li>
				<li>4, 0.14</li>
				<li>5, 0.17</li>
				<li>6, 0.2</li>
			  </points>
			</reassurePerHour>
			<hediff>HVMP_EsotericBookBuff</hediff>
			<durationPerHour>15000</durationPerHour><!--if you read continuously for 1 hour, you should get 6 hours of the buff. accrues faster w higher reading speed-->
			<maxDuration>120000</maxDuration><!--2 days-->
			<severityPerHour>1.1</severityPerHour><!--and each hour should elevate the buff by a little over 1 stage. also scales up w reading speed-->
			<hediffGainPerHour>
			  <points>
				<li>0, 0.9</li>
				<li>1, 0.95</li>
				<li>2, 1</li>
				<li>3, 1.05</li>
				<li>4, 1.1</li>
				<li>5, 1.2</li>
				<li>6, 1.3</li>
			  </points>
			</hediffGainPerHour>
          </li>
        </doers>
      </li>
    </comps>
  </ThingDef>
  <ThingDef ParentName="BookBase">
    <defName>HVMP_InspiringTract</defName>
    <label>ideoligious inspirational</label>
    <description>An ideoligious book. It has a very weak persuasive effect on non-believers. Believers, however, can become inspired by reading it.</description>
    <tradeability>None</tradeability>
    <graphicData>
      <texPath>Things/Item/Book/Schematic/Schematic</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.8</drawSize>
    </graphicData>
    <uiIconPath>Things/Item/Book/Schematic/Schematic</uiIconPath>
    <statBases>
      <MarketValue>270</MarketValue>
    </statBases>
    <comps>
      <li Class="CompProperties_Book">
        <nameMaker>HVMP_Namer_ObscureTract</nameMaker>
        <descriptionMaker>HVMP_ObscureTractDesc</descriptionMaker>
        <ageYearsRange>100~500</ageYearsRange>
        <openGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Open</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>0.7</drawSize>
        </openGraphic>
        <verticalGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Vertical</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <addTopAltitudeBias>true</addTopAltitudeBias>
        </verticalGraphic>
        <doers>
          <li Class="HautsPermits_Ideology.BookOutcomeProperties_InspiringVerse">
            <newIdeoChance>0</newIdeoChance>
			<conversionPerHour>
			  <points>
				<li>0, 0.01</li>
				<li>1, 0.02</li>
				<li>2, 0.03</li>
				<li>3, 0.04</li>
				<li>4, 0.05</li>
				<li>5, 0.06</li>
				<li>6, 0.07</li>
			  </points>
			</conversionPerHour>
			<reassurePerHour>
			  <points>
				<li>0, 0.06</li>
				<li>1, 0.08</li>
				<li>2, 0.1</li>
				<li>3, 0.12</li>
				<li>4, 0.14</li>
				<li>5, 0.17</li>
				<li>6, 0.2</li>
			  </points>
			</reassurePerHour>
			<inspireChancePerHour>
			  <points>
				<li>0, 0.004</li>
				<li>1, 0.008</li>
				<li>2, 0.012</li>
				<li>3, 0.016</li>
				<li>4, 0.021</li>
				<li>5, 0.026</li>
				<li>6, 0.031</li>
			  </points>
			</inspireChancePerHour>
			<initiallyHidden>true</initiallyHidden>
          </li>
        </doers>
      </li>
    </comps>
  </ThingDef>
  <ThingDef ParentName="BookBase">
    <defName>HVMP_MeditativeTract</defName>
    <label>ideoligious meditations</label>
    <description>An ideoligious book. It has a very weak persuasive effect on non-believers. Believers, however, gradually become more attuned to themselves while reading it.</description>
    <tradeability>None</tradeability>
    <graphicData>
      <texPath>Things/Item/Book/Schematic/Schematic</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.8</drawSize>
    </graphicData>
    <uiIconPath>Things/Item/Book/Schematic/Schematic</uiIconPath>
    <statBases>
      <MarketValue>270</MarketValue>
    </statBases>
    <comps>
      <li Class="CompProperties_Book">
        <nameMaker>HVMP_Namer_ObscureTract</nameMaker>
        <descriptionMaker>HVMP_ObscureTractDesc</descriptionMaker>
        <ageYearsRange>100~500</ageYearsRange>
        <openGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Open</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>0.7</drawSize>
        </openGraphic>
        <verticalGraphic>
          <texPath>Things/Item/Book/Schematic/Schematic_Vertical</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <addTopAltitudeBias>true</addTopAltitudeBias>
        </verticalGraphic>
        <doers>
          <li Class="HautsPermits_Ideology.BookOutcomeProperties_HediffGrantingIdeoBook">
            <newIdeoChance>0</newIdeoChance>
			<conversionPerHour>
			  <points>
				<li>0, 0.01</li>
				<li>1, 0.02</li>
				<li>2, 0.03</li>
				<li>3, 0.04</li>
				<li>4, 0.05</li>
				<li>5, 0.06</li>
				<li>6, 0.07</li>
			  </points>
			</conversionPerHour>
			<reassurePerHour>
			  <points>
				<li>0, 0.06</li>
				<li>1, 0.08</li>
				<li>2, 0.1</li>
				<li>3, 0.12</li>
				<li>4, 0.14</li>
				<li>5, 0.17</li>
				<li>6, 0.2</li>
			  </points>
			</reassurePerHour>
			<hediff>HVMP_MeditativeBookBuff</hediff>
			<durationPerHour>15000</durationPerHour>
			<maxDuration>120000</maxDuration>
			<severityPerHour>1.1</severityPerHour>
			<hediffGainPerHour>
			  <points>
				<li>0, 0.9</li>
				<li>1, 0.95</li>
				<li>2, 1</li>
				<li>3, 1.05</li>
				<li>4, 1.1</li>
				<li>5, 1.2</li>
				<li>6, 1.3</li>
			  </points>
			</hediffGainPerHour>
          </li>
        </doers>
      </li>
    </comps>
  </ThingDef>
  
  <!--archive quests: enigma-->

  <ThingDef ParentName="ResourceBase">
    <defName>HVMP_StrangeArtifact</defName>
    <label>strange artifact</label>
    <description>A strange object which the Archive Branch wants you to study on their behalf.</description>
    <graphicData>
      <texPath>Things/Item/Relic/RelicInertBox</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Metal_Drop</soundInteract>
    <soundDrop>Standard_Drop</soundDrop>
    <stackLimit>1</stackLimit>
	<tradeability>None</tradeability>
    <statBases>
      <Flammability>0</Flammability>
      <Mass>1.5</Mass>
      <MaxHitPoints>200</MaxHitPoints>
      <Beauty>1</Beauty>
      <MarketValue>500</MarketValue>
      <DeteriorationRate>2.0</DeteriorationRate>
    </statBases>
    <comps>
      <li Class="HautsPermits.CompProperties_StudiableQuestItem">
        <totalRequiredProgressHours>288~720</totalRequiredProgressHours><!--12d to 30d-->
        <activateTexPath>UI/Icons/Study</activateTexPath>
        <activateLabelString>Study...</activateLabelString>
        <activateDescString>Study the strange artifact.</activateDescString>
        <jobString>Study strange artifact</jobString>
        <guiLabelString>Choose who should study this</guiLabelString>
        <inspectString>Can be studied by a colonist.</inspectString>
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
		<requiredSkillDefs><li>Intellectual</li></requiredSkillDefs>
		<requiredStatDefs><li>ResearchSpeed</li></requiredStatDefs>
		<extraStat>true</extraStat>
		<possibleExtraStatDefsLikely><!--60% chance for one of these. NOTE: if you add more stats to these lists, they will also need a flavorful description string in the Enigma quest-->
		  <li>PsychicSensitivity</li>
		  <li>ReadingSpeed</li>
		  <li>HackingSpeed</li>
		</possibleExtraStatDefsLikely>
		<possibleExtraStatDefsProbable><!--30% chance for one of these-->
		  <li>CleaningSpeed</li>
		  <li>Hauts_SkillGainFromRecreation</li>
		  <li>FixBrokenDownBuildingSuccessChance</li>
		</possibleExtraStatDefsProbable>
		<possibleExtraStatDefsUnlikely><!--10% chance for one of these-->
		  <li>Hauts_IdeoThoughtFactor</li>
		  <li MayRequire="Ludeon.RimWorld.Biotech">Hauts_InstructiveAbility</li>
		  <li>Hauts_BreachDamageFactor</li>
		  <li>MiningSpeed</li>
		  <li>EatingSpeed</li>
		  <li>NegotiationAbility</li>
		  <li>TrainAnimalChance</li>
		  <li>MeleeHitChance</li>
		</possibleExtraStatDefsUnlikely>
		<progressInspectStringSkills>HVMP_EnigmaSkills</progressInspectStringSkills>
		<progressInspectStringStats>HVMP_EnigmaStats</progressInspectStringStats>
      </li>
    </comps>
  </ThingDef>
  
  <!--archive quests: entrant-->
  <ThingDef ParentName="ShuttleBase">
    <defName>HVMP_ShuttleCrashed</defName>
    <label>crashed shuttle</label>
    <graphicData>
      <texPath>Things/Building/Misc/CrashedShuttle</texPath>
    </graphicData>
    <statBases>
      <MaxHitPoints>200</MaxHitPoints>
      <Flammability>1</Flammability>
      <WorkToBuild>800</WorkToBuild>
    </statBases>
    <comps Inherit="False" />
    <killedLeavings Inherit="False">
      <Steel>4</Steel>
      <Plasteel>7</Plasteel>
      <ChunkSlagSteel>1</ChunkSlagSteel>
      <ComponentIndustrial>1</ComponentIndustrial>
    </killedLeavings>
    <costList>
      <Steel>40</Steel>
      <Plasteel>70</Plasteel>
      <ComponentIndustrial>10</ComponentIndustrial>
    </costList>
    <leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
    <preventSkyfallersLandingOn>true</preventSkyfallersLandingOn>
    <building Inherit="False">
      <destroySound>BuildingDestroyed_Metal_Big</destroySound>
      <claimable>false</claimable>
      <alwaysDeconstructible>true</alwaysDeconstructible>
    </building>
	<comps Inherit="False">
		<li Class="HautsPermits_Ideology.CompProperties_Icarus" />
	</comps>
  </ThingDef>
  
  <!--archive quests: extraterrestrial-->
  <ThingDef ParentName="BuildingBase">
    <defName>HVMP_Spacedrone</defName>
    <label>spacedrone</label>
    <description>An ancient ultratech spacedrone containing valuable information.</description>
    <altitudeLayer>Building</altitudeLayer>
    <pathCost>50</pathCost>
    <blockWind>true</blockWind>
    <passability>Impassable</passability>
    <canOverlapZones>true</canOverlapZones>
    <fillPercent>1.0</fillPercent>
    <size>(5,3)</size>
    <graphicData>
      <texPath>Things/Building/Misc/Spacedrone</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(6,3)</drawSize>
      <color>(158,158,158)</color>
      <shadowData>
        <volume>(4.1, 1.0, 1.8)</volume>
        <offset>(0, 0, -0.1)</offset>
      </shadowData>
    </graphicData>
    <statBases>
      <MaxHitPoints>1000</MaxHitPoints>
      <Flammability>0</Flammability>
    </statBases>
    <tickerType>Normal</tickerType>
    <costList>
      <Uranium>10</Uranium>
      <ChunkSlagSteel>4</ChunkSlagSteel>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <rotatable>false</rotatable>
    <selectable>true</selectable>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
    <drawerType>MapMeshOnly</drawerType>
    <repairEffect>ConstructMetal</repairEffect>
    <forceDebugSpawnable>true</forceDebugSpawnable>
    <uiIconScale>1.4</uiIconScale>
    <hasInteractionCell>true</hasInteractionCell>
    <interactionCellOffset>(0,0,-2)</interactionCellOffset>
    <building>
      <claimable>false</claimable>
	  <alwaysDeconstructible>true</alwaysDeconstructible>
      <destroySound>BuildingDestroyed_Metal_Big</destroySound>
    </building>
    <comps>
      <li Class="HautsPermits_Ideology.CompProperties_HackableQuestLink">
        <defence>9000</defence>  <!-- ~ 3.6 hrs for 10 intellect hacker -->
        <effectHacking>HackingTerminal</effectHacking>
      </li>
      <li Class="CompProperties_AmbientSound">
        <sound>SpacedroneIdle_Ambience</sound>
        <disableOnHacked>true</disableOnHacked>
      </li>
    </comps><!--does not explode because non-Flame explosions would harm the mech guards, making the risk/reward of preemptive hacking vs hacking later even MORE stacked in the former's favor, and bc it creates an awkward spot where you can finish hacking in time for the guards
				to wake up and down your hacker, THEN the explosion removes all hope of recovery. Technically that'd be an "issue" w the normal spacedrone quest too, but the hostiles don't spawn directly around the drone in that one, so-->
  </ThingDef>
  
</Defs>