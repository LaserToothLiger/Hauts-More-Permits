<?xml version="1.0" encoding="utf-8" ?>
<Defs>


  <AbilityDef>
    <defName>HVMP_GatepunchSkip</defName>
    <label>skip</label>
    <description>Teleport the target to a desired position not too far from its starting point. Objects which are too large cannot be teleported.\n\nCan be used four times before the gatepuncher breaks down.</description>
    <iconPath>UI/Abilities/Skip</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <showPsycastEffects>False</showPsycastEffects>
    <warmupSound>PsycastCastLoop</warmupSound>
    <hotKey>Misc9</hotKey>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
    <statBases>
      <Ability_Duration>0</Ability_Duration>
    </statBases>
	<charges>4</charges>
	<cooldownTicksRange>60000</cooldownTicksRange>
	<cooldownPerCharge>true</cooldownPerCharge>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <warmupTime>0.25</warmupTime>
      <range>27.9</range>
      <requireLineOfSight>True</requireLineOfSight>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetItems>True</canTargetItems>
        <canTargetBuildings>False</canTargetBuildings>
        <thingCategory>Item</thingCategory>
        <mapObjectTargetsMustBeAutoAttackable>False</mapObjectTargetsMustBeAutoAttackable>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityTeleport">
        <compClass>CompAbilityEffect_Teleport</compClass>
        <destination>Selected</destination>
        <requiresLineOfSight>True</requiresLineOfSight>
        <range>27.9</range>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
        <destClamorType>Ability</destClamorType>
        <destClamorRadius>10</destClamorRadius>
        <stunTicks>18~60</stunTicks>
        <goodwillImpact>-15</goodwillImpact>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
	  <li Class="HautsPermits.CompProperties_GatepunchAbility">
        <compClass>HautsPermits.CompAbilityEffect_GatepunchAbility</compClass>
		<chargeCost>1</chargeCost>
		<gatepuncherHediff>HVMP_GatepuncherImplant</gatepuncherHediff>
	  </li>
    </comps>
  </AbilityDef>
  
  <AbilityDef>
    <defName>HVMP_GatepunchSelfSkip</defName>
    <label>emergency personal skip</label>
    <description>Teleport to a desired position not too far away. Can target positions outside line of sight.\n\nRequires all four uses of the gatepuncher to activate.</description>
    <category>Skip</category>
    <iconPath>UI/Abilities/Skip</iconPath>
    <aiCanUse>true</aiCanUse>
    <statBases>
      <Ability_Duration>0</Ability_Duration>
    </statBases>
    <warmupSound>PsycastCastLoop</warmupSound>
	<cooldownTicksRange>60000</cooldownTicksRange>
    <writeCombatLog>True</writeCombatLog>
    <showPsycastEffects>False</showPsycastEffects>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <violent>false</violent>
      <forceNormalTimeSpeed>false</forceNormalTimeSpeed>
      <warmupTime>0.25</warmupTime>
      <range>19.9</range>
      <requireLineOfSight>False</requireLineOfSight>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
      </targetParams>
    </verbProperties>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
    <comps>
      <li Class = "HautsFramework.CompProperties_AbilityTeleportSelf">
        <compClass>HautsFramework.CompAbilityEffect_TeleportSelf</compClass>
        <requiresLineOfSight>False</requiresLineOfSight>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
        <destClamorType>Ability</destClamorType>
        <destClamorRadius>10</destClamorRadius>
        <stunTicks>18~60</stunTicks>
      </li>
      <li Class="HautsFramework.CompProperties_AbilityAiTargetingDistanceRange">
        <compClass>HautsFramework.CompAbilityEffect_AiTargetingDistanceRange</compClass>
		<distanceRange>4.5~99999</distanceRange>
		<mustBeMelee>true</mustBeMelee>
      </li>
      <li Class="HautsFramework.CompProperties_AbilityAiUsesToRetreat">
        <compClass>HautsFramework.CompAbilityEffect_AiUsesToRetreat</compClass>
		<hpThreshold>0.2</hpThreshold>
		<mustBeRanged>true</mustBeRanged>
      </li>
	  <li Class="HautsPermits.CompProperties_GatepunchAbility">
        <compClass>HautsPermits.CompAbilityEffect_GatepunchAbility</compClass>
		<chargeCost>4</chargeCost>
		<gatepuncherHediff>HVMP_GatepuncherImplant</gatepuncherHediff>
	  </li>
    </comps>
  </AbilityDef>
</Defs>